CREATE TABLE IF NOT EXISTS persona (
	id_persona int PRIMARY KEY AUTO_INCREMENT,
    nombre varchar(50) NOT null,
    apellido varchar(50) NOT null,
    edad char(3) not null,
    codigo_postal varchar(10) not null
);

CREATE TABLE IF NOT EXISTS usuario(
	id_usuario int PRIMARY KEY AUTO_INCREMENT,
	id_persona int not null,
       email varchar(50) NOT null,
       pass varchar(50) NOT null
);
CREATE TABLE IF NOT EXISTS cadena_ctrl(
	id_cadena int PRIMARY KEY AUTO_INCREMENT,
	cadena varchar(50) not null,
        status bit not null
);
CREATE TABLE IF NOT EXISTS usuarioDetalle(
	id_usuario int PRIMARY KEY,
	id_cadena int PRIMARY KEY,
	fecha DATE(50) not null,
	id_maquina int not null
);
CREATE TABLE IF NOT EXISTS maquina(
	id_maquina int PRIMARY KEY,
	tapas_contadas int not null
);
ALTER TABLE usuarios ADD CONSTRAINT FK_usuarios_persona FOREIGN KEY(id_persona) REFERENCES persona(id_persona);
ALTER TABLE cadena_ctrl ADD CONSTRAINT FK_cadena_maquina FOREIGN KEY(id_maquina) REFERENCES maquina(id_maquina);


